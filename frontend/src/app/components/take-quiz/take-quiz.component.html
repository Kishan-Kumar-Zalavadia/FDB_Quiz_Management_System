<div class="quiz-container" *ngIf="quiz">
  <div class="background"></div>
  <h2 class="quiz-title">{{ quiz.quizTitle }}</h2>
  <p class="quiz-info">Duration: {{ quiz.quizDuration }}</p>
  <p class="quiz-info">Number of Attempts: {{ quiz.quizNumberOfAttempts }}</p>
  <p class="quiz-info">Access Code: {{ quiz.accessCode }}</p>

  <form #quizForm="ngForm" (ngSubmit)="submitQuiz()" class="quiz-form">
    <div *ngFor="let question of quiz.questions" class="question-container">
      <h3 class="question-text">{{ question.questionText }}</h3>
      <p>Marks: {{ question.questionMarks }}</p>

      <div
        *ngIf="question.mediaList && question.mediaList.length > 0"
        class="media-container"
      >
        <img
          *ngFor="let media of question.mediaList"
          [src]="media.mediaLink"
          alt="Media"
        />
      </div>

      <ul class="options-list">
        <li *ngFor="let option of question.options" class="option-item">
          <label class="option-label">
            <input
              type="radio"
              name="question{{ question.questionId }}"
              [(ngModel)]="selectedOptions[question.questionId]"
              [value]="option.optionId"
              class="option-input"
            />
            <span class="option-name">{{ option.optionName }}</span>
          </label>
        </li>
      </ul>
    </div>
    <button type="submit" class="submit-button">Submit Quiz</button>
  </form>

  <form>
    <div class="form-group">
      <label for="feedbackText">Quiz Feedback:</label>
      <textarea
        class="form-control"
        id="feedbackText"
        rows="3"
        [(ngModel)]="quizFeedback.text"
        name="text"
      ></textarea>
    </div>
    <button
      type="button"
      class="btn-primary"
      (click)="saveFeedback(user.userID, quiz.quizId)"
    >
      Submit Feedback
    </button>
  </form>
</div>
